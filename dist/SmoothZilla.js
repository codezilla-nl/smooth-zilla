!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SmoothZilla=t():e.SmoothZilla=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),a=function(){function e(t){o(this,e),this.links=this.getLinks(),this.setClickHandlers(this.links)}return r(e,[{key:"getLinks",value:function(){for(var e=document.getElementsByTagName("a"),t=[],n=0,o=e.length;n<o;n++)(0,i.isExternal)(e[n].getAttribute("href"))||t.push({element:e[n],href:e[n].getAttribute("href")});return t}},{key:"setClickHandlers",value:function(e){var t=this;e.forEach(function(e){e.element.addEventListener("click",function(n){t.navigateTo(e),n.preventDefault()})})}},{key:"navigateTo",value:function(e,t){pagesHtml[href]?swap(pagesHtml[e.href],e.href,t):this.loadPage(href,function(n){swap(n,e.href,t)})}},{key:"loadPage",value:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE){if(200!=n.status)throw 400==n.status?Error("There was an error 400"):Error("something else other than 200 was returned");t(n.responseText)}},n.open("GET",e,!0),n.send()}},{key:"swap",value:function(e,t,n){var o=document.getElementById("container"),r=(0,i.whichTransitionEvent)();r&&o.addEventListener(r,function(){document.write(e),document.close();var t=document.getElementById("container");t.setAttribute("class","fade"),setTimeout(function(){t.setAttribute("class","fade in")},100)}),o.setAttribute("class","fade out"),n&&window.history.pushState&&window.history.pushState("","",t)}}]),e}();t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isExternal:function(e){var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},whichTransitionEvent:function(){var e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}}}])});